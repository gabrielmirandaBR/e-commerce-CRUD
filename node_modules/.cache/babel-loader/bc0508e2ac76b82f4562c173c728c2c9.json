{"ast":null,"code":"import { REQUEST_PRODUCTS, REQUEST_PRODUCTS_ERROR, REQUEST_PRODUCTS_SUCCESS, REQUEST_FILTERED_PRODUCTS_SUCCESS, GET_PRODUCTS_DETAILS, REQUEST_CATEGORIES_SUCCESS, REQUEST_CATEGORIES, REQUEST_CATEGORIES_ERROR, BUY_PRODUCT, REMOVE_PRODUCT } from '../actions';\nconst INITIAL_MARKET_STATE = {\n  payload: {\n    products: [],\n    filteredProducts: [],\n    productDetails: {},\n    productsInShoppingCart: []\n  },\n  error: null,\n  isFetching: false,\n  quantity: 1\n};\n\nfunction marketReducer(state = INITIAL_MARKET_STATE, action) {\n  console.log(state.payload.productsInShoppingCart.forEach(item => console.log(item.id)));\n\n  switch (action.type) {\n    case REQUEST_PRODUCTS:\n      return { ...state,\n        isFetching: true\n      };\n\n    case REQUEST_PRODUCTS_SUCCESS:\n      return { ...state,\n        payload: { ...state.payload,\n          products: action.data.results\n        },\n        isFetching: false\n      };\n\n    case REQUEST_PRODUCTS_ERROR:\n      return { ...state,\n        error: action.error,\n        isFetching: false\n      };\n\n    case REQUEST_FILTERED_PRODUCTS_SUCCESS:\n      return { ...state,\n        payload: { ...state.payload,\n          filteredProducts: action.data.results\n        },\n        isFetching: false\n      };\n\n    case GET_PRODUCTS_DETAILS:\n      return { ...state,\n        payload: { ...state.payload,\n          productDetails: action.item\n        }\n      };\n\n    case REQUEST_CATEGORIES:\n      return { ...state,\n        isFetching: true\n      };\n\n    case REQUEST_CATEGORIES_SUCCESS:\n      return { ...state,\n        payload: { ...state.payload,\n          productsCategories: action.data\n        },\n        isFetching: false\n      };\n\n    case REQUEST_CATEGORIES_ERROR:\n      return { ...state,\n        error: action.error,\n        isFetching: false\n      };\n\n    case BUY_PRODUCT:\n      return { ...state,\n        payload: { ...state.payload,\n          productsInShoppingCart: [...state.payload.productsInShoppingCart, action.item]\n        }\n      };\n\n    case REMOVE_PRODUCT:\n      return { ...state,\n        payload: { ...state.payload,\n          productsInShoppingCart: state.payload.productsInShoppingCart.filter((_product, index) => index !== action.id)\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default marketReducer;","map":{"version":3,"sources":["/home/gabriel/Documentos/TRYBE/desafios-processos-seletivos/easy_live_challenge/marketplace/src/redux/reducers/market.js"],"names":["REQUEST_PRODUCTS","REQUEST_PRODUCTS_ERROR","REQUEST_PRODUCTS_SUCCESS","REQUEST_FILTERED_PRODUCTS_SUCCESS","GET_PRODUCTS_DETAILS","REQUEST_CATEGORIES_SUCCESS","REQUEST_CATEGORIES","REQUEST_CATEGORIES_ERROR","BUY_PRODUCT","REMOVE_PRODUCT","INITIAL_MARKET_STATE","payload","products","filteredProducts","productDetails","productsInShoppingCart","error","isFetching","quantity","marketReducer","state","action","console","log","forEach","item","id","type","data","results","productsCategories","filter","_product","index"],"mappings":"AAAA,SACCA,gBADD,EAECC,sBAFD,EAGCC,wBAHD,EAICC,iCAJD,EAKCC,oBALD,EAMCC,0BAND,EAOCC,kBAPD,EAQCC,wBARD,EASCC,WATD,EAUCC,cAVD,QAWO,YAXP;AAaA,MAAMC,oBAAoB,GAAG;AAC5BC,EAAAA,OAAO,EAAE;AACRC,IAAAA,QAAQ,EAAE,EADF;AAERC,IAAAA,gBAAgB,EAAE,EAFV;AAGRC,IAAAA,cAAc,EAAE,EAHR;AAIRC,IAAAA,sBAAsB,EAAE;AAJhB,GADmB;AAO5BC,EAAAA,KAAK,EAAE,IAPqB;AAQ5BC,EAAAA,UAAU,EAAE,KARgB;AAS5BC,EAAAA,QAAQ,EAAE;AATkB,CAA7B;;AAcA,SAASC,aAAT,CAAuBC,KAAK,GAAGV,oBAA/B,EAAqDW,MAArD,EAA6D;AAC5DC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACT,OAAN,CAAcI,sBAAd,CAAqCS,OAArC,CAA8CC,IAAD,IAAUH,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACC,EAAjB,CAAvD,CAAZ;;AACA,UAAQL,MAAM,CAACM,IAAf;AACC,SAAK3B,gBAAL;AACC,aAAO,EACN,GAAGoB,KADG;AAENH,QAAAA,UAAU,EAAE;AAFN,OAAP;;AAKD,SAAKf,wBAAL;AACC,aAAO,EACN,GAAGkB,KADG;AAENT,QAAAA,OAAO,EAAE,EACR,GAAGS,KAAK,CAACT,OADD;AAERC,UAAAA,QAAQ,EAAES,MAAM,CAACO,IAAP,CAAYC;AAFd,SAFH;AAMNZ,QAAAA,UAAU,EAAE;AANN,OAAP;;AASD,SAAKhB,sBAAL;AACC,aAAO,EACN,GAAGmB,KADG;AAENJ,QAAAA,KAAK,EAAEK,MAAM,CAACL,KAFR;AAGNC,QAAAA,UAAU,EAAE;AAHN,OAAP;;AAMD,SAAKd,iCAAL;AACC,aAAO,EACN,GAAGiB,KADG;AAENT,QAAAA,OAAO,EAAE,EACR,GAAGS,KAAK,CAACT,OADD;AAERE,UAAAA,gBAAgB,EAAEQ,MAAM,CAACO,IAAP,CAAYC;AAFtB,SAFH;AAMNZ,QAAAA,UAAU,EAAE;AANN,OAAP;;AASD,SAAKb,oBAAL;AACC,aAAO,EACN,GAAGgB,KADG;AAENT,QAAAA,OAAO,EAAE,EACR,GAAGS,KAAK,CAACT,OADD;AAERG,UAAAA,cAAc,EAAEO,MAAM,CAACI;AAFf;AAFH,OAAP;;AAQD,SAAKnB,kBAAL;AACC,aAAO,EACN,GAAGc,KADG;AAENH,QAAAA,UAAU,EAAE;AAFN,OAAP;;AAKD,SAAKZ,0BAAL;AACC,aAAO,EACN,GAAGe,KADG;AAENT,QAAAA,OAAO,EAAE,EACR,GAAGS,KAAK,CAACT,OADD;AAERmB,UAAAA,kBAAkB,EAAET,MAAM,CAACO;AAFnB,SAFH;AAMNX,QAAAA,UAAU,EAAE;AANN,OAAP;;AASD,SAAKV,wBAAL;AACC,aAAO,EACN,GAAGa,KADG;AAENJ,QAAAA,KAAK,EAAEK,MAAM,CAACL,KAFR;AAGNC,QAAAA,UAAU,EAAE;AAHN,OAAP;;AAMD,SAAKT,WAAL;AACE,aAAO,EACN,GAAGY,KADG;AAENT,QAAAA,OAAO,EAAE,EACR,GAAGS,KAAK,CAACT,OADD;AAERI,UAAAA,sBAAsB,EAAE,CACvB,GAAGK,KAAK,CAACT,OAAN,CAAcI,sBADM,EAGvBM,MAAM,CAACI,IAHgB;AAFhB;AAFH,OAAP;;AAYF,SAAKhB,cAAL;AACC,aAAO,EACN,GAAGW,KADG;AAENT,QAAAA,OAAO,EAAE,EACR,GAAGS,KAAK,CAACT,OADD;AAERI,UAAAA,sBAAsB,EAAEK,KAAK,CAACT,OAAN,CAAcI,sBAAd,CAAqCgB,MAArC,CACvB,CAACC,QAAD,EAAWC,KAAX,KAAqBA,KAAK,KAAKZ,MAAM,CAACK,EADf;AAFhB;AAFH,OAAP;;AAUD;AACC,aAAON,KAAP;AA3FF;AA6FA;;AAED,eAAeD,aAAf","sourcesContent":["import {\n\tREQUEST_PRODUCTS,\n\tREQUEST_PRODUCTS_ERROR,\n\tREQUEST_PRODUCTS_SUCCESS,\n\tREQUEST_FILTERED_PRODUCTS_SUCCESS,\n\tGET_PRODUCTS_DETAILS,\n\tREQUEST_CATEGORIES_SUCCESS,\n\tREQUEST_CATEGORIES,\n\tREQUEST_CATEGORIES_ERROR,\n\tBUY_PRODUCT,\n\tREMOVE_PRODUCT,\n} from '../actions';\n\nconst INITIAL_MARKET_STATE = {\n\tpayload: {\n\t\tproducts: [],\n\t\tfilteredProducts: [],\n\t\tproductDetails: {},\n\t\tproductsInShoppingCart: [],\n\t},\n\terror: null,\n\tisFetching: false,\n\tquantity: 1,\n};\n\n\n\nfunction marketReducer(state = INITIAL_MARKET_STATE, action) {\n\tconsole.log(state.payload.productsInShoppingCart.forEach((item) => console.log(item.id)))\n\tswitch (action.type) {\n\t\tcase REQUEST_PRODUCTS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: true,\n\t\t\t};\n\n\t\tcase REQUEST_PRODUCTS_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpayload: {\n\t\t\t\t\t...state.payload,\n\t\t\t\t\tproducts: action.data.results,\n\t\t\t\t},\n\t\t\t\tisFetching: false,\n\t\t\t};\n\n\t\tcase REQUEST_PRODUCTS_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.error,\n\t\t\t\tisFetching: false,\n\t\t\t};\n\n\t\tcase REQUEST_FILTERED_PRODUCTS_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpayload: {\n\t\t\t\t\t...state.payload,\n\t\t\t\t\tfilteredProducts: action.data.results,\n\t\t\t\t},\n\t\t\t\tisFetching: false,\n\t\t\t};\n\n\t\tcase GET_PRODUCTS_DETAILS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpayload: {\n\t\t\t\t\t...state.payload,\n\t\t\t\t\tproductDetails: action.item,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase REQUEST_CATEGORIES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: true,\n\t\t\t};\n\n\t\tcase REQUEST_CATEGORIES_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpayload: {\n\t\t\t\t\t...state.payload,\n\t\t\t\t\tproductsCategories: action.data,\n\t\t\t\t},\n\t\t\t\tisFetching: false,\n\t\t\t};\n\n\t\tcase REQUEST_CATEGORIES_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.error,\n\t\t\t\tisFetching: false,\n\t\t\t};\n\n\t\tcase BUY_PRODUCT:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\t...state.payload,\n\t\t\t\t\t\tproductsInShoppingCart: [\n\t\t\t\t\t\t\t...state.payload.productsInShoppingCart,\n\t\n\t\t\t\t\t\t\taction.item,\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\n\t\tcase REMOVE_PRODUCT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpayload: {\n\t\t\t\t\t...state.payload,\n\t\t\t\t\tproductsInShoppingCart: state.payload.productsInShoppingCart.filter(\n\t\t\t\t\t\t(_product, index) => index !== action.id\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default marketReducer;\n"]},"metadata":{},"sourceType":"module"}